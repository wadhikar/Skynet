<% include ../partials/header %>
<div style="width: 30%; margin: 25px auto;">
    <h1>Edit <%= lecture.name %> lecture</h1>
    <form action="/lectures/<%=lecture._id%>?_method=PUT" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label>Change the name:
                <input class="form-control" type="text" name="name" value="<%=lecture.name%>">
            </label>
        </div>
        <div class="form-group">
            <label>Change the slide:
                <input class="form-control" type="file" name="background_file"  onchange='openFile(event)' >
            </label>
            <img id='output' alt="selected image preview" style="max-width : 300px;" src="data:image;base64, <%=lecture.background_file%>">
        </div>
        <div class="form-group">
            <button class="btn btn-lg btn-primary btn-block">Apply Change!</button>
        </div>
    </form>
</div>

<script>
    var openFile = function(event) {
        var input = event.target;

        var reader = new FileReader();
        reader.onload = function(){
            var dataURL = reader.result;
            var output = document.getElementById('output');
            output.src = dataURL;
        };
        reader.readAsDataURL(input.files[0]);
    };
</script>

<% include ../partials/footer %>
